<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <script src="https://cdn.jsdelivr.net/npm/phaser@3.15.1/dist/phaser-arcade-physics.min.js"></script>
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/css/bootstrap.min.css" integrity="sha384-Vkoo8x4CGsO3+Hhxv8T/Q5PaXtkKtu6ug5TOeNV6gBiFeWPGFN9MuhOf23Q9Ifjh" crossorigin="anonymous">
    <link rel="stylesheet" href="./assets/css/style.css"> 
</head>
<body>
    <nav class="navbar navbar-expand-lg navbar-light bg-dark">
        <div class="container">
          <a class="navbar-brand text-white" id="title-link">First Fantasy</a>
          <span class="navbar-text">
            <a class=".text-white" id="loginNav">Login</a>
          </span>
        </div>
      </nav>

      <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
      <script src="./assets/js/index.js"></script>
      <script src="./assets/js/classes/character.js"></script>
      <script src="./assets/js/battle-logic.js"></script>
    <script>

    var config = {
        type: Phaser.AUTO,
        width: 950,
        height: 600,
        physics: {
            default: 'arcade',
            arcade: {
                gravity: { y: 200 }
            }
        },
        scene: {
            preload: preload,
            create: create,
            update: update
        }
    };

    var game = new Phaser.Game(config);

    function preload ()
    {
        this.load.path = 'assets/';

        this.load.image('background', 'game-art/bg/battleback1.png');
        this.load.image('player1', 'game-art/sprites/player/knight.png');
        this.load.image('player2', 'game-art/sprites/player/mage.png');
        this.load.image('p1healthbar', 'game-art/userinterface/playerHealthbar.png');
        this.load.image('p2healthbar', 'game-art/userinterface/enemyHealthbar.png');
        this.load.image('hud', 'game-art/userinterface/hud.png');
        this.load.image('druid', 'game-art/sprites/enemies/druid.png');
    }

    function create ()
    {
        this.cameras.main.flash(300);
        this.add.image(400, 300, 'background');

        window.player1 = new Player(this, 200, 300, 'player1', "Fionna", 85, 1, 65, 77);        
        this.add.existing(player1);

        window.enemy = new Player(this, 700, 300, 'druid', "Druid", 200, 1, 50, 70);     
        this.add.existing(enemy);
        enemy.setScale(0.6);

        var hud = this.add.image(260, 515, 'hud');

        var atkBtn = this.add.text(50, 480, 'Attack');
        atkBtn.setScale(1.4);
        atkBtn.setInteractive();
        atkBtn.on('pointerout', () => priority())

        window.playerHP = player1.hp;
        window.enemyHP = enemy.hp;

        

    }

    function update () 
    {
        var playerHpDisplay = this.add.text(280, 480, player1.name + "'s HP:" + playerHP);
        playerHpDisplay.setScale(1.4);
        var enemyHpDisplay = this.add.text(280, 500, enemy.name + "'s HP:" + enemyHP);
        enemyHpDisplay.setScale(1.4);
    }
    </script>

</body>
</html>